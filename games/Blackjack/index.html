<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blackjack | Casino Royale</title>

    <script src="/0JS/RoyaleSubsystem.js"></script>

    <script src="/0JS/jquery-3.3.1.js"></script>

    <link rel="stylesheet" href="modal.css">
    <script src="modal.js"></script>

    <link rel="stylesheet" href="blackjack.css">
    <script src="blackjack.js"></script>


    <script src="/0JS/universal_menu.js"></script>
    <link rel="stylesheet" href="../../0CSS/universal_menu.css">


</head>
<body>

<script>
    init_royale();

    let mainMenuModal;

    window.addEventListener("load", () => {
        mainMenuModal = new Modal(document.getElementById("modal_main_menu"), true);

        g("menu-main").onanimationend  = () => {g("menu-main").style.animation  = "none";};
        g("menu-rules").onanimationend = () => {g("menu-rules").style.animation = "none";};

    });

    function openRules() {

        g("menu-main").style.animationDelay = "0";
        g("menu-main").style.animation = "fadeOut 500ms ease-in forwards";
        g("menu-rules").style.animationDelay = "1000ms";
        g("menu-rules").style.animation = "fadeIn 500ms ease-in forwards";

        g("menu").style.width = "500px";
        g("menu-main").classList.remove("selected");
        g("menu-rules").classList.add("selected");

    }

    function closeRules() {
        g("menu-rules").style.animationDelay = "0";
        g("menu-rules").style.animation = "fadeOut 500ms ease-in forwards";
        g("menu-main").style.animationDelay = "1000ms";
        g("menu-main").style.animation = "fadeIn 500ms ease-in forwards";

        g("menu").style.width = "200px";
        g("menu-main").classList.add("selected");
        g("menu-rules").classList.remove("selected");
    }

    function returnToHub() {
        saveUser(user);
        updateSQL();

        window.location.replace("/hub/");
    }

</script>

<div id="modal_main_menu" class="modal">
    <!-- Modal content -->
    <div id="menu" class="modal-content">
        <div class="menu-item selected" id="menu-main">
            <p>MainMenu!</p>
            <button onclick="mainMenuModal.close(); start();">Start Blackjack</button>
            <button onclick="openRules();">Show Rules</button>
            <button onclick="returnToHub();">Return to Hub</button>
            <button onclick="mainMenuModal.close();">Exit Menu</button>
        </div>
        <div class="menu-item" id="menu-rules">
            <p>Blackjack Rules:</p>
            <button onclick="closeRules();">‚Üê Back to menu</button>
        </div>
    </div>
</div>

<div id="userChoices">

    <button id="hitBtn"   onclick="userChoice='hit'">Hit</button>
    <button id="standBtn" onclick="userChoice='stand'">Stand</button>

</div>

<div id="gameResultDisplay">
    <h2 id="gameResultText">You Won!</h2>
</div>

<img src="logo.png" alt="blackjack logo" id="logo" width="500">

<div id="play-area">
    <button onclick="mainMenuModal.open();">Open Menu</button>
    <br>
    <img src="/games/Blackjack/img/BACK.png" alt="back of cards" width="170">

    <div id="dealerArea"></div>
    <div id="playerArea"></div>
    <div id="cardContainer"></div>

</div>


</body>
</html>